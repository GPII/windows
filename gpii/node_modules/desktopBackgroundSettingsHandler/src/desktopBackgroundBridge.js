/*
 * GPII Windows 10 System Colors Settings Handler
 *
 * Copyright 2018 Raising the Floor - US
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * You may obtain a copy of the License at
 * https://github.com/GPII/universal/blob/master/LICENSE.txt
 */

"use strict";

var path = require("path"),
    // This conditional require is to run the electron version of edge.js
    // when this code runs on electron (gpii-app).
    edge = process.versions.electron ? require("electron-edge-js") : require("edge-js"),
    fluid = require("gpii-universal");

var handler = fluid.registerNamespace("gpii.windows.desktopBackgroundSettingsHandler");

require("../../systemSettingsHandler/src/systemSettingsHandler");

handler.backgroundColorManager = edge.func({
    source: path.join(__dirname, "backgroundColors.csx"),
    references: ["System.Management.dll"]
});

require("../../spiSettingsHandler/index");
