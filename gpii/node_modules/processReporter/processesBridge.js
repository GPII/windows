/*!
GPII Process Reporter processes bridge -- gpii.processes.

Copyright 2014-2016 Inclusive Design Research Centre, OCAD University

Licensed under the New BSD license. You may not use this file except in
compliance with this License.

You may obtain a copy of the License at
https://github.com/gpii/universal/LICENSE.txt
*/

/*global require */

"use strict";

var path = require("path"),
    edge = require("edge"),
    fluid = require("universal");

var gpii = fluid.registerNamespace("gpii");
gpii.processes = fluid.registerNamespace("gpii.processes");

var dotNetProcesses = edge.func(path.join(__dirname, "dotNetProcesses.csx"));

fluid.defaults("gpii.processes.native", {
    gradeNames: ["fluid.component"],
    invokers: {
        getProcessList: {
            funcName: "gpii.processes.native.getProcessList",
            args: []
        }
    }
});

// Return a list of processes -- a snapshot of the current processes.
gpii.processes["native"].getProcessList = function () {
    return dotNetProcesses(null, true);
};
