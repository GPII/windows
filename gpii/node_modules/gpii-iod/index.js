/*
 * Install on Demand (Windows Specific).
 *
 * Copyright 2019 Raising the Floor - International
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * The R&D leading to these results received funding from the
 * Department of Education - Grant H421A150005 (GPII-APCP). However,
 * these results do not necessarily represent the policy of the
 * Department of Education, and you should not assume endorsement by the
 * Federal Government.
 *
 * You may obtain a copy of the License at
 * https://github.com/GPII/universal/blob/master/LICENSE.txt
 */

"use strict";

var fluid = require("gpii-universal");

require("./src/installOnDemand.js");
require("./src/chocolateyInstaller.js");
require("./src/msiInstaller.js");
require("./src/appxInstaller.js");
require("./src/exeInstaller.js");

// Add the installers to the list of available installers on the gpii.iod grade.
fluid.defaults("gpii.windows.iod.installersConfig", {
    gradeNames: "fluid.component",
    installerGrades: {
        "chocolatey": "gpii.windows.iod.chocolateyInstaller",
        "msi": "gpii.windows.iod.msiInstaller",
        "appx": "gpii.windows.iod.appxInstaller",
        "exe": "gpii.windows.iod.exeInstaller"
    }
});

fluid.makeGradeLinkage("gpii.windows.iod.installersConfigLink",
    ["gpii.iod"],
    "gpii.windows.iod.installersConfig"
);
