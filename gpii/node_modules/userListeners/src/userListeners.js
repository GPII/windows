/* User listeners - Windows specific.
 *
 * Copyright 2017 Raising the Floor - International
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * The R&D leading to these results received funding from the
 * Department of Education - Grant H421A150005 (GPII-APCP). However,
 * these results do not necessarily represent the policy of the
 * Department of Education, and you should not assume endorsement by the
 * Federal Government.
 *
 * You may obtain a copy of the License at
 * https://github.com/GPII/universal/blob/master/LICENSE.txt
 */

"use strict";

var fluid = require("gpii-universal");

fluid.registerNamespace("gpii.windows.userListeners");

// Mixin grade to add support for the user listeners only supported on Windows.
fluid.defaults("gpii.userListeners.windows", {
    gradeNames: ["fluid.component"],
    components: {
        proximity: {
            type: "gpii.windows.userListeners.proximity"
        },
        windowsLogin: {
            type: "gpii.windows.userListeners.windowsLogin",
            options: {
                events: {
                    onListenersStart: {
                        events: {
                            onListenersStart: "{userListeners}.events.onListenersStart",
                            onServiceReady: "{service}.events.onServiceReady",
                            onSessionStart: "{lifecycleManager}.events.onSessionStart"
                        }
                    },
                    onListenersStop: "{userListeners}.events.onListenersStop"
                }
            }
        }
    }
});
