/**
 * GPII Windows Platform Reporter unit tests
 *
 * Copyright 2017 Inclusive Design Research Centre, OCAD University
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * You may obtain a copy of the License at
 * https://github.com/GPII/windows/blob/master/LICENSE.txt
 *
 * The research leading to these results has received funding from the European Union's
 * Seventh Framework Programme (FP7/2007-2013)
 * under grant agreement no. 289016.
 */
"use strict";

var fluid = require("universal"),
    os = require("os"),
    gpii = fluid.registerNamespace("gpii"),
    jqUnit = fluid.require("node-jqunit");

require("../src/PlatformReporter.js");
fluid.registerNamespace("gpii.platformReporter");
fluid.registerNamespace("gpii.platformReporter.tests");

jqUnit.module("GPII windows Platform Reporter Module");

jqUnit.test("windows Platform Reporter", function () {
    var platformReporter = gpii.platformReporter.windows();
    var report = platformReporter.reportPlatform();

    jqUnit.assertNotNull("Platform Info", report);
    jqUnit.assertEquals("OS", os.platform(), report.id);
    jqUnit.assertEquals("version", os.release().replace("_", "-"), report.version);
    jqUnit.assertNotNull("Screen resolution", report["screen-resolution"]);
    jqUnit.assertNotNull("Available resolutions", report["available-resolution"]);
});
