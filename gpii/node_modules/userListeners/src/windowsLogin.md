# Windows Login User Listener

This user listener generates a `gpiiKey` based on a "user id" from the Operating System, specified
by the `userIdSource` value in the site config, which can be one of the following values:

## `username`

The `gpiiKey` is derived from the username of the active Windows account (the value of `os.userInfo().username`).

## `userid`

The [security identifier](https://docs.microsoft.com/windows/win32/secauthz/security-identifiers) (SID)
of the user is used to generate the `gpiiKey`.

For example, `S-1-5-21-3156860277-1528178154-708479448-1001`. The SID of the current user can be looked up
using `whoami /user`.

## `reg:PATH`

Take a value from the registry, at the location specified with `PATH`. For example:
`reg:HKLM\SOFTWARE\LoginApp\userID`

Some deployments do not use the Windows login account to differentiate users - where the machine has a single
login, and there's a custom mechanism for users to log into the computer.

## `regkey:PATH`

Like `reg:PATH`, but the value in the registry is used as the raw `gpiiKey`, rather than it being "signed" by
the Windows service. `:PATH` can be omitted to use the default of `HKCU\SOFTWARE\Morphic\gpiiKey`.

## `file:PATH`

Like `reg:PATH`, but it reads the content of a file, pointed to by `PATH` for the `gpiiKey`.
For example: `file:c:\windows\somefile.txt`
